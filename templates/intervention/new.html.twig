{% extends 'base.html.twig' %}

{% block title %}Nouvelle Intervention{% endblock %}

{% block body %}
<div class="container mt-5">
    <h2 class="mb-4">
        üõ†Ô∏è Cr√©er une intervention sur
        {% if equipement %}
            <strong>{{ equipement.getNomeq() }}</strong>
            - <em>{{ equipement.getModeleeq() }}</em>
        {% else %}
            <span class="text-danger">[√âquipement non sp√©cifi√©]</span>
        {% endif %}
    </h2>

    <div class="card shadow p-4 rounded">
       {{ include('intervention/_form.html.twig', { 'form': form, 'equipement': equipement }) }}

    </div>

    <div class="mt-3">
        <a href="{{ path('app_intervention_index') }}" class="btn btn-secondary">
            ‚¨ÖÔ∏è Retour √† la liste des interventions
        </a>
    </div>
</div>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const typeSelect = document.getElementById('typeint-select');
        const prochaineDateRow = document.getElementById('prochaine-date-row');

        function toggleProchaineDate() {
            if (typeSelect.value === 'curatif') {
                prochaineDateRow.style.display = 'none';
            } else {
                prochaineDateRow.style.display = 'flex'; // or 'block' if needed
            }
        }

        // Initial check
        toggleProchaineDate();

        // Change event
        typeSelect.addEventListener('change', toggleProchaineDate);
    });
</script>


{% endblock %}
